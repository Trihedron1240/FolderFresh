{
  "permissions": {
    "allow": [
      "Bash(git commit -m \"$(cat <<''EOF''\nAdd Tier-1 Hazel-style automation features to FolderFresh\n\n## New Actions\n\n1. **TokenRenameAction** - Rename files with token expansion\n   - Tokens: <name>, <extension>, <date_created>, <date_modified>, <year>, <month>, <day>, <hour>, <minute>\n   - Idempotent (skips if pattern matches current name)\n   - Collision avoidance with numbered copies\n   - Full undo support\n\n2. **RunCommandAction** - Execute scripts and commands\n   - Supports PowerShell, CMD, batch, Python, executables\n   - Token expansion for dynamic command building\n   - Stdout/stderr capture for logging\n   - 30-second timeout protection\n   - Safe mode prevents execution\n\n3. **ArchiveAction** - Zip files to destination\n   - Token expansion in destination path\n   - Automatic collision avoidance\n   - Creates ZIP archives with metadata preservation\n   - Safe mode and dry_run support\n\n4. **ExtractAction** - Unzip archive files\n   - Supports .zip, .rar, .7z (with fallback)\n   - Token expansion in destination\n   - Nested folder creation\n   - Full undo support\n\n5. **CreateFolderAction** - Create folders with tokens\n   - Full token support for dynamic folder structures\n   - Nested folder creation\n   - Idempotent (skips if exists)\n   - Perfect for date-based organization\n\n## New Conditions\n\n1. **ContentContainsCondition** - Match files by content\n   - Text, PDF, DOCX, XLSX support\n   - Case-insensitive matching\n   - Configurable byte limit (default 256 KB)\n   - Binary search fallback\n\n2. **DatePatternCondition** - Match files by date with wildcards\n   - Creation and modification date support\n   - Wildcard patterns (fnmatch style)\n   - Examples: \"2025-*\", \"*-12-25\", \"2025-11-*\"\n\n## Features\n\n- All actions integrate seamlessly with existing FolderFresh systems\n- Safe mode support (preview-only execution)\n- Dry run support (no filesystem changes)\n- Idempotency (safe for repeated execution)\n- Full undo support (all operations reversible)\n- Collision avoidance (never overwrites files)\n- Token expansion for dynamic naming and paths\n- Comprehensive error handling\n\n## Testing\n\n- 27 new unit tests, all passing\n- Tests cover idempotency, skip logic, undo support\n- Tests validate safe_mode and dry_run behavior\n- All 326 tests pass (1 skipped)\n- No regressions in existing functionality\n\n## Documentation\n\n- Added TIER1_FEATURES.md with complete usage guide\n- Examples for all actions and conditions\n- Integration guide with existing FolderFresh rules\n- Performance and compatibility notes\n\n## Files Added\n\n- src/folderfresh/rule_engine/tier1_actions.py (450+ lines)\n- src/folderfresh/rule_engine/tier1_conditions.py (150+ lines)\n- tests/test_tier1_actions.py (27 comprehensive tests)\n- TIER1_FEATURES.md (complete documentation)\n\n## Files Modified\n\n- src/folderfresh/rule_engine/__init__.py (exports new classes)\n\nðŸ¤– Generated with Claude Code\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(pip install:*)",
      "Bash(git commit:*)",
      "Bash(find:*)",
      "Bash(timeout 10 python:*)",
      "Bash(timeout 15 python:*)",
      "Bash(pkill:*)",
      "Bash(timeout 5 python:*)",
      "Bash(timeout 60 python -m pytest:*)"
    ],
    "deny": [],
    "ask": []
  }
}
