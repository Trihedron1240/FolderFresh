<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="FolderFresh.Components.SnapshotsContent"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:FolderFresh.Components"
    xmlns:models="using:FolderFresh.Models"
    Loaded="UserControl_Loaded">

    <Grid Background="#1C1C1C">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header Row -->
        <Grid Grid.Row="0" Padding="24,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Title -->
            <StackPanel Grid.Column="0" Orientation="Vertical">
                <TextBlock x:Name="TitleText"
                           Text="Snapshots"
                           FontSize="20"
                           FontWeight="SemiBold"
                           Foreground="White"
                           VerticalAlignment="Center"/>
                <TextBlock x:Name="SubtitleText"
                           Text="Save and restore folder states"
                           FontSize="13"
                           Foreground="#666666"
                           Margin="0,4,0,0"/>
            </StackPanel>

            <!-- New Snapshot Button -->
            <Button Grid.Column="1"
                    x:Name="NewSnapshotButton"
                    Click="NewSnapshotButton_Click"
                    Background="#5865F2"
                    Foreground="White"
                    Padding="12,8"
                    CornerRadius="6">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon Glyph="&#xE722;" FontSize="12"/>
                    <TextBlock x:Name="NewSnapshotButtonText" Text="New Snapshot" FontSize="13" FontWeight="SemiBold"/>
                </StackPanel>
            </Button>
        </Grid>

        <!-- Info Banner -->
        <Border Grid.Row="1"
                x:Name="InfoBanner"
                Background="#2D2D2D"
                CornerRadius="8"
                Padding="12"
                Margin="24,0,24,16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Warning Icon -->
                <FontIcon Grid.Column="0"
                          Glyph="&#xE7BA;"
                          FontSize="16"
                          Foreground="#F0A020"
                          VerticalAlignment="Center"
                          Margin="0,0,12,0"/>

                <!-- Info Text -->
                <TextBlock x:Name="InfoBannerText"
                           Grid.Column="1"
                           Text="Snapshots create full copies of your files and can use significant disk space. Files are stored in the FolderFresh data folder. When restoring, any changes made to files after the snapshot will be overwritten."
                           FontSize="13"
                           Foreground="#999999"
                           VerticalAlignment="Center"
                           TextWrapping="Wrap"/>

                <!-- Dismiss Button -->
                <Button Grid.Column="2"
                        x:Name="DismissBannerButton"
                        Background="Transparent"
                        BorderThickness="0"
                        Padding="8"
                        Click="DismissBannerButton_Click">
                    <FontIcon Glyph="&#xE711;" FontSize="12" Foreground="#666666"/>
                </Button>
            </Grid>
        </Border>

        <!-- Storage Info Bar -->
        <Border Grid.Row="2"
                Background="#232428"
                CornerRadius="8"
                Padding="12,10"
                Margin="24,0,24,16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Storage Icon -->
                <FontIcon Grid.Column="0"
                          Glyph="&#xEDA2;"
                          FontSize="14"
                          Foreground="#949BA4"
                          VerticalAlignment="Center"
                          Margin="0,0,10,0"/>

                <!-- Storage Text -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock x:Name="StorageUsedLabel"
                               Text="Storage used: "
                               FontSize="13"
                               Foreground="#949BA4"/>
                    <TextBlock x:Name="StorageUsedText"
                               Text="0 B"
                               FontSize="13"
                               Foreground="White"
                               FontWeight="SemiBold"/>
                    <TextBlock x:Name="SnapshotCountText"
                               Text=" across 0 snapshots"
                               FontSize="13"
                               Foreground="#949BA4"/>
                </StackPanel>

                <!-- Open Folder Button -->
                <Button Grid.Column="2"
                        x:Name="OpenFolderButton"
                        Click="OpenFolderButton_Click"
                        Background="Transparent"
                        BorderThickness="0"
                        Padding="8,4"
                        ToolTipService.ToolTip="Open snapshots folder">
                    <StackPanel Orientation="Horizontal" Spacing="6">
                        <FontIcon Glyph="&#xE838;" FontSize="12" Foreground="#949BA4"/>
                        <TextBlock x:Name="OpenFolderButtonText" Text="Open Folder" FontSize="12" Foreground="#949BA4"/>
                    </StackPanel>
                </Button>
            </Grid>
        </Border>

        <!-- Snapshots List / Empty State -->
        <Grid Grid.Row="3">
            <!-- Empty State -->
            <StackPanel x:Name="EmptyState"
                        VerticalAlignment="Center"
                        HorizontalAlignment="Center"
                        Visibility="Collapsed">
                <FontIcon Glyph="&#xE722;"
                          FontSize="48"
                          Foreground="#404040"
                          HorizontalAlignment="Center"
                          Margin="0,0,0,16"/>
                <TextBlock x:Name="EmptyTitleText"
                           Text="No snapshots yet"
                           FontSize="18"
                           Foreground="#999999"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,8"/>
                <TextBlock x:Name="EmptyDescText"
                           Text="Create a snapshot to save the current state of a folder"
                           FontSize="14"
                           Foreground="#666666"
                           HorizontalAlignment="Center"
                           TextAlignment="Center"
                           MaxWidth="300"
                           TextWrapping="Wrap"
                           Margin="0,0,0,24"/>
                <Button x:Name="CreateSnapshotButton"
                        Click="NewSnapshotButton_Click"
                        Background="#5865F2"
                        Foreground="White"
                        Padding="20,10"
                        CornerRadius="6"
                        HorizontalAlignment="Center">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE722;" FontSize="14"/>
                        <TextBlock x:Name="CreateSnapshotButtonText" Text="Create Snapshot" FontSize="14" FontWeight="SemiBold"/>
                    </StackPanel>
                </Button>
            </StackPanel>

            <!-- Snapshots List -->
            <ScrollViewer x:Name="SnapshotsScrollViewer"
                          VerticalScrollBarVisibility="Auto"
                          Padding="24,0,24,24">
                <StackPanel x:Name="SnapshotsListPanel" Spacing="12"/>
            </ScrollViewer>
        </Grid>
    </Grid>
</UserControl>
